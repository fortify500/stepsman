title: "STEPSMAN Hello World"
steps:
  - name: "Starting" # mandatory
    description: > # optional
      example for a rest call
    label: starting
    retries: 3
    do: # optional
      type: REST # heartbeats of set InProgress and finally set Done. However, this doesn't mean events cannot already start for path_1_step_?
      complete-by: 200 # default 3600. This is a hard limit whereby even an async or any error will cause a fail and move to pending.
      retries: 0 # by default, this means it won't be retried. Technically will become 1 in the database if never executed, once it is in progress it will be 0. e.g. a 2 will become 3 in the database initially.
      heartbeat-timeout: 50 # seconds. the do will send heartbeats when calling the url in asynchronous cases. Currently only synchronous calls are supported so heart-beat timeout is essentially a timeout.
      options:
        timeout: 40 #overall timeout make sense timeout would be less than the heartbeat-timeout
        max-response-body-bytes: 524288
        method: GET
        url: https://jsonplaceholder.typicode.com/todos/1
    on:
      pre-done:
        rules:
          - then:
              do:
                - label: finishing
                  context: >
                    { "result": "finish", "title": "{% input.template.title %}"}
  - name: "Finishing" # mandatory
    description: > # optional
      example for a rest call 2
    label: finishing
    do:
      type: REST
      heartbeat-timeout: 50
      options:
        timeout: 40
        max-response-body-bytes: 524288
        method: GET
        url: https://jsonplaceholder.typicode.com/todos/2
